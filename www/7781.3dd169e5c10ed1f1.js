"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7781],{7781:(ke,H,b)=>{b.r(H),b.d(H,{CameraPageModule:()=>ge});var B=b(177),N=b(4341),h=b(5150),D=b(8986),d=b(467);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var R=function(r){return r.Unimplemented="UNIMPLEMENTED",r.Unavailable="UNAVAILABLE",r}(R||{});class _ extends Error{constructor(e,t,n){super(e),this.message=e,this.code=t,this.data=n}}const re=r=>{var e,t,n,i,a;const s=r.CapacitorCustomPlatform||null,o=r.Capacitor||{},c=o.Plugins=o.Plugins||{},u=r.CapacitorPlatforms,k=(null===(e=null==u?void 0:u.currentPlatform)||void 0===e?void 0:e.getPlatform)||(()=>null!==s?s.name:(r=>{var e,t;return null!=r&&r.androidBridge?"android":null!==(t=null===(e=null==r?void 0:r.webkit)||void 0===e?void 0:e.messageHandlers)&&void 0!==t&&t.bridge?"ios":"web"})(r)),he=(null===(t=null==u?void 0:u.currentPlatform)||void 0===t?void 0:t.isNativePlatform)||(()=>"web"!==k()),Pe=(null===(n=null==u?void 0:u.currentPlatform)||void 0===n?void 0:n.isPluginAvailable)||(f=>{const m=S.get(f);return!!(null!=m&&m.platforms.has(k())||J(f))}),J=(null===(i=null==u?void 0:u.currentPlatform)||void 0===i?void 0:i.getPluginHeader)||(f=>{var m;return null===(m=o.PluginHeaders)||void 0===m?void 0:m.find(U=>U.name===f)}),S=new Map,Ee=(null===(a=null==u?void 0:u.currentPlatform)||void 0===a?void 0:a.registerPlugin)||((f,m={})=>{const U=S.get(f);if(U)return console.warn(`Capacitor plugin "${f}" already registered. Cannot register plugins twice.`),U.proxy;const L=k(),x=J(f);let w;const Le=function(){var p=(0,d.A)(function*(){return!w&&L in m?w=w="function"==typeof m[L]?yield m[L]():m[L]:null!==s&&!w&&"web"in m&&(w=w="function"==typeof m.web?yield m.web():m.web),w});return function(){return p.apply(this,arguments)}}(),W=p=>{let g;const P=(...y)=>{const C=Le().then(v=>{const A=((p,g)=>{var P,y;if(!x){if(p)return null===(y=p[g])||void 0===y?void 0:y.bind(p);throw new _(`"${f}" plugin is not implemented on ${L}`,R.Unimplemented)}{const C=null==x?void 0:x.methods.find(v=>g===v.name);if(C)return"promise"===C.rtype?v=>o.nativePromise(f,g.toString(),v):(v,A)=>o.nativeCallback(f,g.toString(),v,A);if(p)return null===(P=p[g])||void 0===P?void 0:P.bind(p)}})(v,p);if(A){const F=A(...y);return g=null==F?void 0:F.remove,F}throw new _(`"${f}.${p}()" is not implemented on ${L}`,R.Unimplemented)});return"addListener"===p&&(C.remove=(0,d.A)(function*(){return g()})),C};return P.toString=()=>`${p.toString()}() { [capacitor code] }`,Object.defineProperty(P,"name",{value:p,writable:!1,configurable:!1}),P},X=W("addListener"),Q=W("removeListener"),_e=(p,g)=>{const P=X({eventName:p},g),y=function(){var v=(0,d.A)(function*(){const A=yield P;Q({eventName:p,callbackId:A},g)});return function(){return v.apply(this,arguments)}}(),C=new Promise(v=>P.then(()=>v({remove:y})));return C.remove=(0,d.A)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield y()}),C},G=new Proxy({},{get(p,g){switch(g){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return x?_e:X;case"removeListener":return Q;default:return W(g)}}});return c[f]=G,S.set(f,{name:f,proxy:G,platforms:new Set([...Object.keys(m),...x?[L]:[]])}),G});return o.convertFileSrc||(o.convertFileSrc=f=>f),o.getPlatform=k,o.handleError=f=>r.console.error(f),o.isNativePlatform=he,o.isPluginAvailable=Pe,o.pluginMethodNoop=(f,m,U)=>Promise.reject(`${U} does not have an implementation of "${m}".`),o.registerPlugin=Ee,o.Exception=_,o.DEBUG=!!o.DEBUG,o.isLoggingEnabled=!!o.isLoggingEnabled,o.platform=o.getPlatform(),o.isNative=o.isNativePlatform(),o},O=(r=>r.Capacitor=re(r))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),T=O.registerPlugin;class I{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,t){var n=this;let i=!1;this.listeners[e]||(this.listeners[e]=[],i=!0),this.listeners[e].push(t);const s=this.windowListeners[e];s&&!s.registered&&this.addWindowListener(s),i&&this.sendRetainedArgumentsForEvent(e);const o=function(){var u=(0,d.A)(function*(){return n.removeListener(e,t)});return function(){return u.apply(this,arguments)}}();return Promise.resolve({remove:o})}removeAllListeners(){var e=this;return(0,d.A)(function*(){e.listeners={};for(const t in e.windowListeners)e.removeWindowListener(e.windowListeners[t]);e.windowListeners={}})()}notifyListeners(e,t,n){const i=this.listeners[e];if(i)i.forEach(a=>a(t));else if(n){let a=this.retainedEventArguments[e];a||(a=[]),a.push(t),this.retainedEventArguments[e]=a}}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:n=>{this.notifyListeners(t,n)}}}unimplemented(e="not implemented"){return new O.Exception(e,R.Unimplemented)}unavailable(e="not available"){return new O.Exception(e,R.Unavailable)}removeListener(e,t){var n=this;return(0,d.A)(function*(){const i=n.listeners[e];if(!i)return;const a=i.indexOf(t);n.listeners[e].splice(a,1),n.listeners[e].length||n.removeWindowListener(n.windowListeners[e])})()}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(n=>{this.notifyListeners(e,n)}))}}const z=r=>encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),K=r=>r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class ne extends I{getCookies(){return(0,d.A)(function*(){const e=document.cookie,t={};return e.split(";").forEach(n=>{if(n.length<=0)return;let[i,a]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=K(i).trim(),a=K(a).trim(),t[i]=a}),t})()}setCookie(e){return(0,d.A)(function*(){try{const t=z(e.key),n=z(e.value),i=`; expires=${(e.expires||"").replace("expires=","")}`,a=(e.path||"/").replace("path=",""),s=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${n||""}${i}; path=${a}; ${s};`}catch(t){return Promise.reject(t)}})()}deleteCookie(e){return(0,d.A)(function*(){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}})()}clearCookies(){return(0,d.A)(function*(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(e){return Promise.reject(e)}})()}clearAllCookies(){var e=this;return(0,d.A)(function*(){try{yield e.clearCookies()}catch(t){return Promise.reject(t)}})()}}T("CapacitorCookies",{web:()=>new ne});const ie=function(){var r=(0,d.A)(function*(e){return new Promise((t,n)=>{const i=new FileReader;i.onload=()=>{const a=i.result;t(a.indexOf(",")>=0?a.split(",")[1]:a)},i.onerror=a=>n(a),i.readAsDataURL(e)})});return function(t){return r.apply(this,arguments)}}();class le extends I{request(e){return(0,d.A)(function*(){const t=((r,e={})=>{const t=Object.assign({method:r.method||"GET",headers:r.headers},e),i=((r={})=>{const e=Object.keys(r);return Object.keys(r).map(i=>i.toLocaleLowerCase()).reduce((i,a,s)=>(i[a]=r[e[s]],i),{})})(r.headers)["content-type"]||"";if("string"==typeof r.data)t.body=r.data;else if(i.includes("application/x-www-form-urlencoded")){const a=new URLSearchParams;for(const[s,o]of Object.entries(r.data||{}))a.set(s,o);t.body=a.toString()}else if(i.includes("multipart/form-data")||r.data instanceof FormData){const a=new FormData;if(r.data instanceof FormData)r.data.forEach((o,c)=>{a.append(c,o)});else for(const o of Object.keys(r.data))a.append(o,r.data[o]);t.body=a;const s=new Headers(t.headers);s.delete("content-type"),t.headers=s}else(i.includes("application/json")||"object"==typeof r.data)&&(t.body=JSON.stringify(r.data));return t})(e,e.webFetchExtra),n=((r,e=!0)=>r?Object.entries(r).reduce((n,i)=>{const[a,s]=i;let o,c;return Array.isArray(s)?(c="",s.forEach(u=>{o=e?encodeURIComponent(u):u,c+=`${a}=${o}&`}),c.slice(0,-1)):(o=e?encodeURIComponent(s):s,c=`${a}=${o}`),`${n}&${c}`},"").substr(1):null)(e.params,e.shouldEncodeUrlParams),i=n?`${e.url}?${n}`:e.url,a=yield fetch(i,t),s=a.headers.get("content-type")||"";let c,u,{responseType:o="text"}=a.ok?e:{};switch(s.includes("application/json")&&(o="json"),o){case"arraybuffer":case"blob":u=yield a.blob(),c=yield ie(u);break;case"json":c=yield a.json();break;default:c=yield a.text()}const E={};return a.headers.forEach((k,M)=>{E[M]=k}),{data:c,headers:E,status:a.status,url:a.url}})()}get(e){var t=this;return(0,d.A)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"GET"}))})()}post(e){var t=this;return(0,d.A)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"POST"}))})()}put(e){var t=this;return(0,d.A)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"PUT"}))})()}patch(e){var t=this;return(0,d.A)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"PATCH"}))})()}delete(e){var t=this;return(0,d.A)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"DELETE"}))})()}}T("CapacitorHttp",{web:()=>new le});var $=function(r){return r.Prompt="PROMPT",r.Camera="CAMERA",r.Photos="PHOTOS",r}($||{}),j=function(r){return r.Rear="REAR",r.Front="FRONT",r}(j||{}),V=function(r){return r.Uri="uri",r.Base64="base64",r.DataUrl="dataUrl",r}(V||{});class Y extends I{getPhoto(e){var t=this;return(0,d.A)(function*(){return new Promise(function(){var n=(0,d.A)(function*(i,a){if(e.webUseInput||e.source===$.Photos)t.fileInputExperience(e,i,a);else if(e.source===$.Prompt){let s=document.querySelector("pwa-action-sheet");s||(s=document.createElement("pwa-action-sheet"),document.body.appendChild(s)),s.header=e.promptLabelHeader||"Photo",s.cancelable=!1,s.options=[{title:e.promptLabelPhoto||"From Photos"},{title:e.promptLabelPicture||"Take Picture"}],s.addEventListener("onSelection",function(){var o=(0,d.A)(function*(c){0===c.detail?t.fileInputExperience(e,i,a):t.cameraExperience(e,i,a)});return function(c){return o.apply(this,arguments)}}())}else t.cameraExperience(e,i,a)});return function(i,a){return n.apply(this,arguments)}}())})()}pickImages(e){var t=this;return(0,d.A)(function*(){return new Promise(function(){var n=(0,d.A)(function*(i,a){t.multipleFileInputExperience(i,a)});return function(i,a){return n.apply(this,arguments)}}())})()}cameraExperience(e,t,n){var i=this;return(0,d.A)(function*(){if(customElements.get("pwa-camera-modal")){const a=document.createElement("pwa-camera-modal");a.facingMode=e.direction===j.Front?"user":"environment",document.body.appendChild(a);try{yield a.componentOnReady(),a.addEventListener("onPhoto",function(){var s=(0,d.A)(function*(o){const c=o.detail;null===c?n(new _("User cancelled photos app")):c instanceof Error?n(c):t(yield i._getCameraPhoto(c,e)),a.dismiss(),document.body.removeChild(a)});return function(o){return s.apply(this,arguments)}}()),a.present()}catch{i.fileInputExperience(e,t,n)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),i.fileInputExperience(e,t,n)})()}fileInputExperience(e,t,n){let i=document.querySelector("#_capacitor-camera-input");const a=()=>{var s;null===(s=i.parentNode)||void 0===s||s.removeChild(i)};i||(i=document.createElement("input"),i.id="_capacitor-camera-input",i.type="file",i.hidden=!0,document.body.appendChild(i),i.addEventListener("change",s=>{const o=i.files[0];let c="jpeg";if("image/png"===o.type?c="png":"image/gif"===o.type&&(c="gif"),"dataUrl"===e.resultType||"base64"===e.resultType){const u=new FileReader;u.addEventListener("load",()=>{if("dataUrl"===e.resultType)t({dataUrl:u.result,format:c});else if("base64"===e.resultType){const E=u.result.split(",")[1];t({base64String:E,format:c})}a()}),u.readAsDataURL(o)}else t({webPath:URL.createObjectURL(o),format:c}),a()}),i.addEventListener("cancel",s=>{n(new _("User cancelled photos app")),a()})),i.accept="image/*",i.capture=!0,e.source===$.Photos||e.source===$.Prompt?i.removeAttribute("capture"):e.direction===j.Front?i.capture="user":e.direction===j.Rear&&(i.capture="environment"),i.click()}multipleFileInputExperience(e,t){let n=document.querySelector("#_capacitor-camera-input-multiple");const i=()=>{var a;null===(a=n.parentNode)||void 0===a||a.removeChild(n)};n||(n=document.createElement("input"),n.id="_capacitor-camera-input-multiple",n.type="file",n.hidden=!0,n.multiple=!0,document.body.appendChild(n),n.addEventListener("change",a=>{const s=[];for(let o=0;o<n.files.length;o++){const c=n.files[o];let u="jpeg";"image/png"===c.type?u="png":"image/gif"===c.type&&(u="gif"),s.push({webPath:URL.createObjectURL(c),format:u})}e({photos:s}),i()}),n.addEventListener("cancel",a=>{t(new _("User cancelled photos app")),i()})),n.accept="image/*",n.click()}_getCameraPhoto(e,t){return new Promise((n,i)=>{const a=new FileReader,s=e.type.split("/")[1];"uri"===t.resultType?n({webPath:URL.createObjectURL(e),format:s,saved:!1}):(a.readAsDataURL(e),a.onloadend=()=>{const o=a.result;n("dataUrl"===t.resultType?{dataUrl:o,format:s,saved:!1}:{base64String:o.split(",")[1],format:s,saved:!1})},a.onerror=o=>{i(o)})})}checkPermissions(){var e=this;return(0,d.A)(function*(){if(typeof navigator>"u"||!navigator.permissions)throw e.unavailable("Permissions API not available in this browser");try{return{camera:(yield window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw e.unavailable("Camera permissions are not available in this browser")}})()}requestPermissions(){var e=this;return(0,d.A)(function*(){throw e.unimplemented("Not implemented on web.")})()}pickLimitedLibraryPhotos(){var e=this;return(0,d.A)(function*(){throw e.unavailable("Not implemented on web.")})()}getLimitedLibraryPhotos(){var e=this;return(0,d.A)(function*(){throw e.unavailable("Not implemented on web.")})()}}new Y;const ce=T("Camera",{web:()=>new Y});var l=b(3953),ue=b(345);function de(r,e){if(1&r&&l.nrm(0,"img",8),2&r){const t=l.XpG(2);l.Y8G("src",t.photo,l.B4B)}}function fe(r,e){if(1&r&&(l.j41(0,"ion-card")(1,"ion-card-header"),l.EFF(2," Captura de Foto "),l.k0s(),l.j41(3,"ion-card-content"),l.DNE(4,de,1,1,"img",7),l.k0s()()),2&r){const t=l.XpG();l.R7$(4),l.Y8G("ngIf",t.photo)}}const me=[{path:"",component:(()=>{var r;class e{constructor(n){this.sanitizer=n}ngOnInit(){}takePicture(){var n=this;return(0,d.A)(function*(){try{const i=yield ce.getPhoto({quality:90,allowEditing:!0,resultType:V.Uri});n.photo=n.sanitizer.bypassSecurityTrustResourceUrl(i.webPath)}catch(i){console.error("Error al tomar la foto",i)}})()}}return(r=e).\u0275fac=function(n){return new(n||r)(l.rXU(ue.up))},r.\u0275cmp=l.VBU({type:r,selectors:[["app-camera"]],decls:14,vars:3,consts:[[3,"translucent"],["slot","start"],[3,"fullscreen"],["collapse","condense"],["size","large"],["expand","block",3,"click"],[4,"ngIf"],["width","100%",3,"src",4,"ngIf"],["width","100%",3,"src"]],template:function(n,i){1&n&&(l.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),l.EFF(3,"Camera"),l.k0s(),l.j41(4,"ion-buttons",1),l.nrm(5,"ion-back-button"),l.k0s()()(),l.j41(6,"ion-content",2)(7,"ion-header",3)(8,"ion-toolbar")(9,"ion-title",4),l.EFF(10,"Captura de c\xe1mara"),l.k0s()()(),l.j41(11,"ion-button",5),l.bIt("click",function(){return i.takePicture()}),l.EFF(12,"Tomar Foto"),l.k0s(),l.DNE(13,fe,5,1,"ion-card",6),l.k0s()),2&n&&(l.Y8G("translucent",!0),l.R7$(6),l.Y8G("fullscreen",!0),l.R7$(7),l.Y8G("ngIf",i.photo))},dependencies:[B.bT,h.Jm,h.QW,h.b_,h.I9,h.ME,h.W9,h.eU,h.BC,h.ai,h.el]}),e})()}];let pe=(()=>{var r;class e{}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275mod=l.$C({type:r}),r.\u0275inj=l.G2t({imports:[D.iI.forChild(me),D.iI]}),e})(),ge=(()=>{var r;class e{}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275mod=l.$C({type:r}),r.\u0275inj=l.G2t({imports:[B.MD,N.YN,h.bv,pe]}),e})()}}]);